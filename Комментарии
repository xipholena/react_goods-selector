export function Good({ good, goodSelected }) {
  return (
    <>
      <p>{good}</p>
      <button
        type="button"
        className="goods__select"  
        onClick={(event) => {
          goodSelected(event, good); // передача кастомного параметра обратно в метод родительскиого класса, полученный пропсом
        }}
      >
        Select
      </button>
    </>
  );
}

Good.propTypes = {
  good: PropTypes.string.isRequired,
  goodSelected: PropTypes.func.isRequired,
};


import React from 'react';
import PropTypes from 'prop-types';
import { Good } from '../Good';

export class Goods extends React.Component {
  state = {
    selected: ' - ',
  }

  clearAll = ({ target }) => {
    const allGoods = target.parentElement.parentElement.lastElementChild;

    [...allGoods.children].forEach((element) => {
      element.classList.remove('active');
    });
  }

  selected = ({ target }, item) => { // получение переданного кастомного параметра good = item
    const allGoods = target.closest('.goods').children;

    [...allGoods].forEach((element) => {
      element.classList.remove('active');
    });
    target.closest('.goods__item').classList.add('active');

    this.setState({
      selected: ` ${item} `,
    });
  }

  render() {
    const { goods } = this.props;
    const { selected, activeItem, clearMode } = this.state;

    return (
      <div className="goods">
        <div className="goods__header-wrapper">
          <h1>
            Selected good:
            {selected}
          </h1>
          <button
            title="clear selection"
            type="button"
            className="goods__clear"
            onClick={() => {
              this.setState({
                selected: ' - ',
              });
              this.clearAll();
            }}
          >
            Remove
          </button>
        </div>
        <ul className="goods__list">
          {goods.map(item => (
            <li
              key={item}
              className={classNames('goods__item', { active: activeItem// поскольку оба компонента и так рендерятся при каждом клике
                && activeItem.previousSibling.innerText === item
                && !clearMode })} // поскольку до клика activeItem - undefined
            >
              <Good
                good={item}
                goodSelected={this.selected}
              />
            </li>
          ))}
        </ul>
      </div>
    );
  }
}

Goods.propTypes = {
  goods: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,
};
